% -------------------------------------------------------------------------
%  MusicFormats Library
%  Copyright (C) Jacques Menu 2016-2023

%  This Source Code Form is subject to the terms of the Mozilla Public
%  License, v. 2.0. If a copy of the MPL was not distributed with this
%  file, you can obtain one at http://mozilla.org/MPL/2.0/.

%  https://github.com/jacques-menu/musicformats
% -------------------------------------------------------------------------

% !TEX root = mfmaintainanceguide.tex

% -------------------------------------------------------------------------
\chapter{Maintainance tools}\label{Maintainance tools}
% -------------------------------------------------------------------------

They are located in \devtoolsFolder\ and meant to facilitate the \mf\ maintainance activities:
\begin{lstlisting}[language=Terminal]
jacquesmenu@macstudio-1:/Volumes/JMI_Volume/JMI_Developpement/musicformats-git-dev/devtools > ls -sal
total 120
 0 drwxr-xr-x  12 jacquesmenu  staff    384 Feb 15 10:53 .
 0 drwxr-xr-x  31 jacquesmenu  staff    992 Feb 28 15:52 ..
 8 -rwxr-xr-x@  1 jacquesmenu  staff   1568 Jan 29 13:33 BuildMusicFormats.zsh
 8 -rwxr-xr-x@  1 jacquesmenu  staff   1662 Jan 29 13:33 CreateMusicFormatsDocumentationPDFs.zsh
16 -rwxr-xr-x@  1 jacquesmenu  staff   4140 Jan 31 10:22 CreateMusicFormatsReleases.zsh
 8 -rwxr--r--@  1 jacquesmenu  staff    883 Feb 15 11:21 InstallLilyJazz.zsh
 8 -rwxr-xr-x@  1 jacquesmenu  staff   1231 Feb  6 13:58 LocateFilesContainingFirstAndNotSecond.zsh
 8 -rwxr-xr-x   1 jacquesmenu  staff   1251 Jan 29 13:33 SetMusicFormatsVersionDate.zsh
 8 -rwxr-xr-x   1 jacquesmenu  staff   1304 Jan 29 13:33 SetMusicFormatsVersionNumber.zsh
 8 -rwxr-xr-x   1 jacquesmenu  staff    436 Jan 29 13:33 ShowMusicFormatsVersion.zsh
48 -rwxr-xr-x@  1 jacquesmenu  staff  22752 Feb 23 11:43 ZshDefinitionsForMusicFormats.zsh
\end{lstlisting}


% -------------------------------------------------------------------------
\section{Building the library}
% -------------------------------------------------------------------------

\devtools{BuildMusicFormats.zsh} executes \cmake, whose configuration is in \buildFolder:
\begin{lstlisting}[language=Terminal]
jacquesmenu@macstudio-1:/Volumes/JMI_Volume/JMI_Developpement/musicformats-git-dev/build > ls -sal
total 992
  0 drwxr-xr-x  13 jacquesmenu  staff     416 Feb 22 15:55 .
  0 drwxr-xr-x  31 jacquesmenu  staff     992 Feb 28 15:52 ..
 16 -rw-r--r--@  1 jacquesmenu  staff    6148 Feb 16 18:17 .DS_Store
904 -rw-r--r--@  1 jacquesmenu  staff  405409 Mar  1 06:03 BuildMusicFormats.zsh.log
  8 -rw-r--r--   1 jacquesmenu  staff    1815 Jan 29 13:33 Building.md
 40 -rw-r--r--@  1 jacquesmenu  staff   18499 Feb  6 12:48 CMakeLists.txt
  8 -rw-r--r--   1 jacquesmenu  staff     292 Jan 29 13:33 MakePkg.bat
 16 -rw-r--r--   1 jacquesmenu  staff    6227 Jan 29 13:33 Makefile
  0 drwxr-xr-x   3 jacquesmenu  staff      96 Jan 29 13:33 android
  0 drwxr-xr-x  27 jacquesmenu  staff     864 Feb 28 15:49 bin
  0 drwxr-xr-x   3 jacquesmenu  staff      96 Jan 29 13:33 docker
  0 drwxr-xr-x   4 jacquesmenu  staff     128 Feb 28 15:49 lib
  0 drwxr-xr-x   8 jacquesmenu  staff     256 Feb 22 15:55 libdir
\end{lstlisting}


% -------------------------------------------------------------------------
\section{Building the documenation}
% -------------------------------------------------------------------------

\devtools{CreateMusicFormatsDocumentationPDFs.zsh} executes lives up to its name. The \LaTeX\ source files are in \docFolder:
\begin{lstlisting}[language=Terminal]
jacquesmenu@macstudio-1:/Volumes/JMI_Volume/JMI_Developpement/musicformats-git-dev/documentation > ll
total 24
 0 drwxr-xr-x   12 jacquesmenu  staff    384 Jan 29 13:33:19 2023 ./
 0 drwxr-xr-x   31 jacquesmenu  staff    992 Feb 28 15:52:03 2023 ../
24 -rw-r--r--@   1 jacquesmenu  staff  10244 Feb 23 11:57:51 2023 .DS_Store
 0 drwxr-xr-x   22 jacquesmenu  staff    704 Jan 29 13:33:14 2023 CommonLaTeXFiles/
 0 drwxr-xr-x   32 jacquesmenu  staff   1024 Jan 29 13:33:14 2023 IntroductionToMusicXML/
 0 drwxr-xr-x   47 jacquesmenu  staff   1504 Feb 17 11:12:27 2023 mfapiguide/
 0 drwxr-xr-x    8 jacquesmenu  staff    256 Feb 17 11:12:49 2023 MusicFormatsFigures/
 0 drwxr-xr-x  105 jacquesmenu  staff   3360 Mar  1 06:12:41 2023 mfmaintainanceguide/
 0 drwxr-xr-x   54 jacquesmenu  staff   1728 Feb 17 11:13:30 2023 mfuserguide/
 0 drwxr-xr-x    3 jacquesmenu  staff     96 Jan 29 13:33:14 2023 builddoc/
 0 drwxr-xr-x   45 jacquesmenu  staff   1440 Jan 29 13:33:14 2023 mfgraphics/
 0 drwxr-xr-x    5 jacquesmenu  staff    160 Jan 29 13:33:14 2023 libmusicxml2Presentation/
\end{lstlisting}

When modifying a documentation's structure information, i.e. \code{$\backslash$chapter}, \code{$\backslash$section} and \code{$\backslash$subsection} commands contents, \code{pdflatex} should be run three times to get the corresponding PDF.


% -------------------------------------------------------------------------
\section{Releases creation}
% -------------------------------------------------------------------------

\devtools{CreateMusicFormatsReleases.zsh} lives up to its name too.


% -------------------------------------------------------------------------
\section{Checking source files contents}
% -------------------------------------------------------------------------

\devtools{LocateFilesContainingFirstAndNotSecond.zsh} helps to find superfluous \CPlusplus\ includes or other such checking tasks.


% -------------------------------------------------------------------------
\section{Handly ZSH functions and aliases}
% -------------------------------------------------------------------------

There are a couple of them in \devtools{ZshDefinitionsForMusicFormats.zsh}

